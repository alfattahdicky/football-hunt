{"version":3,"sources":["script/api.js"],"names":["BASE_URL","API_KEY","loading","document","querySelector","LEAGUE_ID","ENDPOINT_COMPETITION","ENDPOINT_MATCH","ENDPOINT_TEAM","fetchApi","url","fetch","headers","then","response","status","Promise","resolve","console","log","reject","Error","statusText","json","catch","err","getAllStandings","window","caches","match","data","showStandings","standings","standingsEl","getElementById","table","forEach","standing","position","team","crestUrl","replace","name","won","draw","lost","points","goalsFor","goalsAgainst","goalDifference","setTimeout","style","display","innerHTML","getMatchAll","showDataMatch","matchs","matchsEl","matches","date","Date","parse","utcDate","dateToLocalString","toLocaleDateString","weekday","year","month","day","timeToLocalString","toLocaleTimeString","hour","minute","hour12","matchday","homeTeam","awayTeam","score","fullTime","getAllTeamName","showingDataTeamName","teamsName","teamsEl","teams","id","getSavedTeam","getAll","urlParams","URLSearchParams","location","search","idParam","get","getAllTeamNameId","showingDataTeamNameId","error","teamsHTML","squadHTML","teamsHTMLEl","squad","squads","nationality","founded","venue","phone","email","address","website","getSavedTeamById","getById"],"mappings":"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","file":"api.a9a262c0.js","sourceRoot":"..\\src","sourcesContent":["const BASE_URL = 'https://api.football-data.org/v2';\r\nconst API_KEY = '05a36867cd4e4d8bbf37e7fb67f24339';\r\nconst loading = document.querySelector('.loading');\r\nconst LEAGUE_ID = 2021;\r\nconst ENDPOINT_COMPETITION = `${BASE_URL}/competitions/${LEAGUE_ID}/standings`;\r\nconst ENDPOINT_MATCH = `${BASE_URL}/competitions/${LEAGUE_ID}/matches?status=SCHEDULED`;\r\nconst ENDPOINT_TEAM = `${BASE_URL}/teams`;\r\n\r\nconst fetchApi = url => {\r\n  return fetch(url, {\r\n    headers: {\r\n      \"X-Auth-Token\": API_KEY\r\n    }\r\n  })\r\n    .then(response => {\r\n      if(response.status === 200) {\r\n        return Promise.resolve(response);\r\n      } else {\r\n        console.log(`Error: ${response.status}`);\r\n        return Promise.reject(new Error(response.statusText));\r\n      }\r\n    })\r\n    .then(response => response.json())\r\n    .catch(err => console.log('Error', err));\r\n    \r\n};\r\n\r\n// API Standing \r\nfunction getAllStandings() {\r\n  return new Promise((resolve,reject) => {\r\n    if('caches' in window) {\r\n      caches.match(ENDPOINT_COMPETITION).then(response => {\r\n        if(response) {\r\n          response.json().then(data => {\r\n            // console.log(`Competition : ${data}`);\r\n            showStandings(data);\r\n            resolve(data);\r\n          })\r\n        }\r\n      })\r\n      fetchApi(ENDPOINT_COMPETITION)\r\n        .then(data => {\r\n          showStandings(data);\r\n        })\r\n        .catch(err => {\r\n          console.log(`Error ${err}`);\r\n        })\r\n    }\r\n  })\r\n}\r\n\r\nfunction showStandings(data) {\r\n  let standings = '';\r\n  let standingsEl = document.getElementById('homeKlasemen');\r\n  // console.log(data);\r\n  data.standings[0].table.forEach(function(standing) {\r\n    standings += `\r\n    <tr>\r\n      <td>${standing.position}</td>\r\n      <td><img src=\"${standing.team.crestUrl.replace(/^http:\\/\\//i, 'https://')}\" width=\"30px\" height=\"30px\" alt=\"badge\"/></td>\r\n      <td>${standing.team.name}</td>\r\n      <td>${standing.won}</td>\r\n      <td>${standing.draw}</td>\r\n      <td>${standing.lost}</td>\r\n      <td>${standing.points}</td>\r\n      <td>${standing.goalsFor}</td>\r\n      <td>${standing.goalsAgainst}</td>\r\n      <td>${standing.goalDifference}</td>\r\n    </tr>\r\n    `;\r\n  });\r\n  setTimeout(() => {\r\n    loading.style.display = 'none';\r\n    standingsEl.innerHTML = `\r\n    <style>\r\n      th{\r\n        font-size: 1.2rem;\r\n      }\r\n      .card {\r\n        padding-left: 24px;\r\n        padding-right: 24px;\r\n        margin: 30px 0;\r\n      }\r\n      table {\r\n        padding: 0 0 20px;\r\n      }\r\n    </style>\r\n    <div class=\"card\">\r\n  \r\n    <table class=\"striped responsive-table centered\">\r\n        <thead>\r\n            <tr>\r\n                <th>No</th>\r\n                <th></th>\r\n                <th>Team Name</th>\r\n                <th>W</th>\r\n                <th>D</th>\r\n                <th>L</th>\r\n                <th>P</th>\r\n                <th>GF</th>\r\n                <th>GA</th>\r\n                <th>GD</th>\r\n            </tr>\r\n         </thead>\r\n        <tbody id=\"standings\">\r\n            ${standings}\r\n        </tbody>\r\n    </table>\r\n    \r\n    </div\r\n    `;\r\n  },1000)\r\n}\r\n// API Standing ENDS\r\n\r\n\r\n// API Match\r\nfunction getMatchAll() {\r\n  if('caches' in window) {\r\n    caches.match(ENDPOINT_MATCH).then( response => {\r\n      if(response) {\r\n        response.json().then(data => {\r\n          showDataMatch(data);\r\n        })\r\n      }\r\n    })\r\n  }\r\n  fetchApi(ENDPOINT_MATCH)\r\n    .then(data => {\r\n      showDataMatch(data);\r\n    })\r\n    .catch(err => {\r\n      console.log(`Error ${err}`);\r\n    })\r\n}\r\n\r\nfunction showDataMatch(data) {\r\n  let matchs = '';\r\n  let matchsEl = document.getElementById('match');\r\n  // console.log(data);\r\n  data.matches.forEach(function(match){\r\n    const date = new Date(Date.parse(match.utcDate));\r\n    const options = {\r\n      weekday: 'long',\r\n      year: 'numeric',\r\n      month: 'long',\r\n      day: 'numeric'\r\n    }\r\n    const optionsTime = {\r\n      hour: '2-digit', \r\n      minute:'2-digit',\r\n      hour12: true\r\n    }\r\n    const dateToLocalString = date.toLocaleDateString('id-ID', options);\r\n    const timeToLocalString = date.toLocaleTimeString([],optionsTime);\r\n    matchs += `\r\n      <style>\r\n        thead {\r\n          background-color: #043249;\r\n        }\r\n      </style>\r\n      <thead>\r\n        <tr class=\"white-text\">\r\n          <th></th>\r\n          <th >${dateToLocalString}</th>\r\n          <th>Matchday ${match.matchday}</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr>\r\n          <td>${match.homeTeam.name}</td>\r\n          <td>VS</td>\r\n          <td>${match.awayTeam.name}</td>\r\n        </tr>\r\n        <tr>\r\n          <td>${match.score.fullTime.homeTeam || 0}</td>\r\n          <td>${timeToLocalString}</td>\r\n          <td>${match.score.fullTime.awayTeam || 0}</td>\r\n        </tr>\r\n      </tbody>\r\n    `\r\n      matchsEl.innerHTML = `\r\n      <table class=\"centered\">\r\n        ${matchs}\r\n      </table>\r\n    `;\r\n  })\r\n}\r\n// API Match END\r\n\r\n// API Team Name\r\nfunction getAllTeamName() {\r\n  if('caches' in window) {\r\n    caches.match(ENDPOINT_TEAM).then(response => {\r\n      if(response) {\r\n        response.json().then(data => {\r\n          showingDataTeamName(data);\r\n        })\r\n      }\r\n    })\r\n  }\r\n  fetchApi(ENDPOINT_TEAM)\r\n    .then(data => {\r\n      showingDataTeamName(data);\r\n    })\r\n    .catch(err => console.log(`Error ${err}`));\r\n}\r\n\r\nfunction showingDataTeamName(data) {\r\n  let teamsName =  '';\r\n  let teamsEl = document.getElementById('teams');\r\n  // console.log(data);\r\n  data.teams.forEach(team => {\r\n    teamsName += `\r\n      <div class=\"col s12 m4\">\r\n      <div class=\"card center-align\">\r\n        <div class=\"section\">\r\n          <img src=\"${team.crestUrl.replace(/^http:\\/\\//i, 'https://')}\" width=\"100px\" height=\"100px\"  alt=\"Picture ${team.name}\">\r\n        </div>\r\n        <div class=\"card-action\">\r\n          <a class=\"waves-effect waves-block waves-light btn btn-team\" href=\"./team.html?id=${team.id}\">${team.name}</a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    `\r\n    teamsEl.innerHTML = teamsName;\r\n  })\r\n}\r\n\r\n// Save data API TEAM\r\nfunction getSavedTeam() {\r\n  getAll().then(team => {\r\n    // console.log(team);\r\n    let teamsName =  '';\r\n    let teamsEl = document.getElementById('teams');\r\n    // console.log(data);\r\n    team.forEach(team => {\r\n      teamsName += `\r\n        <div class=\"col s12 m4\">\r\n        <div class=\"card center-align\">\r\n          <div class=\"section\">\r\n            <img src=\"${team.crestUrl.replace(/^http:\\/\\//i, 'https://')}\" width=\"100px\" height=\"100px\"  alt=\"Picture ${team.name}\">\r\n          </div>\r\n          <div class=\"card-action\">\r\n            <a class=\"waves-effect waves-block waves-light btn btn-team\" href=\"./team.html?id=${team.id}&#saved=true\">${team.name}</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      `\r\n      teamsEl.innerHTML = teamsName;\r\n    })\r\n  })\r\n}\r\n\r\n// ID Team\r\n\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst idParam = urlParams.get('id');\r\n\r\nfunction getAllTeamNameId() {\r\n  return new Promise((resolve,reject) => {\r\n    if('caches' in window) {\r\n      caches.match(`${ENDPOINT_TEAM}/${idParam}`).then(response => {\r\n       if(response) {\r\n         response.json().then(data => {\r\n           showingDataTeamNameId(data);\r\n           resolve(data);\r\n         })\r\n       } \r\n      })\r\n    }\r\n    fetchApi(`${ENDPOINT_TEAM}/${idParam}`)\r\n      .then(data => {\r\n        showingDataTeamNameId(data);\r\n        resolve(data);\r\n      })\r\n      .catch(err => console.error(`Error ${err}`));\r\n  })\r\n}\r\n\r\nfunction showingDataTeamNameId(data) {\r\n  let teamsHTML = '';\r\n  let squadHTML = '';\r\n  let teamsHTMLEl = document.getElementById('content-team');\r\n  // console.log(data);\r\n  data.squad.forEach(squads => {\r\n    squadHTML += `\r\n    <tbody> \r\n        <td>${squads.name}</td>\r\n        <td>${squads.position || ''}</td>\r\n        <td>${squads.nationality}</td>\r\n    </tbody>\r\n    `\r\n  })\r\n    teamsHTML += `\r\n    <div class=\"section center\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col s12 m6\">\r\n            <img src=\"${data.crestUrl.replace(/^http:\\/\\//i, 'https://')}\" alt=\"${data.name}\">\r\n          </div>\r\n          <div class=\"col s12 m6 left-align\">\r\n            <h3>${data.name}</h3>\r\n            <p>${data.name} berdiri sejak tahun ${data.founded}</p>\r\n            <p>Venue  : ${data.venue}</p>\r\n            <p>Phone  : ${data.phone}</p>\r\n            <p>Email  : ${data.email}</p>\r\n            <p>Address: ${data.address}</p>\r\n            <p>Kunjungi Website ${data.website}</p>\r\n          </div>\r\n        </div>\r\n        <table class=\"centered\">\r\n          <thead>\r\n            <tr>\r\n                <th>Name</th>\r\n                <th>Posisi</th>\r\n                <th>Nasional</th>\r\n            </tr>\r\n          </thead>\r\n          ${squadHTML}\r\n        </table>\r\n      </div>\r\n    </div>\r\n    `\r\n    teamsHTMLEl.innerHTML = teamsHTML;\r\n}\r\n\r\n// Save Data Id\r\nfunction getSavedTeamById() {\r\n  getById(idParam).then(team => {\r\n    let teamsHTML = '';\r\n    let squadHTML = '';\r\n    let teamsHTMLEl = document.getElementById('content-team');\r\n    // console.log(team);\r\n    team.forEach(squads => {\r\n      squadHTML += `\r\n      <tbody> \r\n          <td>${squads.name}</td>\r\n          <td>${squads.position || ''}</td>\r\n          <td>${squads.nationality}</td>\r\n      </tbody>\r\n      `\r\n    })\r\n      teamsHTML += `\r\n      <div class=\"section center\">\r\n        <div class=\"container\">\r\n          <div class=\"row\">\r\n            <div class=\"col s12 m6\">\r\n              <img src=\"${team.crestUrl.replace(/^http:\\/\\//i, 'https://')}\" alt=\"${team.name}\">\r\n            </div>\r\n            <div class=\"col s12 m6 left-align\">\r\n              <h3>${team.name}</h3>\r\n              <p>${team.name} berdiri sejak tahun ${team.founded}</p>\r\n              <p>Venue  : ${team.venue}</p>\r\n              <p>Phone  : ${team.phone}</p>\r\n              <p>Email  : ${team.email}</p>\r\n              <p>Address: ${team.address}</p>\r\n              <p>Kunjungi Website ${team.website}</p>\r\n            </div>\r\n          </div>\r\n          <table class=\"centered\">\r\n            <thead>\r\n              <tr>\r\n                  <th>Name</th>\r\n                  <th>Posisi</th>\r\n                  <th>Nasional</th>\r\n              </tr>\r\n            </thead>\r\n            ${squadHTML}\r\n          </table>\r\n        </div>\r\n      </div>\r\n      `\r\n      teamsHTMLEl.innerHTML = teamsHTML;\r\n  })\r\n}\r\n\r\n\r\n\r\n// API TEAM NAME END\r\n\r\n\r\n"]}