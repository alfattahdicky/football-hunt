{"version":3,"sources":["script/db.js"],"names":["dbPromised","idb","open","upgradeDb","createObjectStore","keyPath","createIndex","unique","saveForLater","team","then","db","tx","transaction","store","objectStore","console","log","put","complete","alert","getAll","Promise","resolve","reject","catch","getById","id","get","deleteTeam","delete"],"mappings":";AAAA,IAAMA,EAAaC,IAAIC,KAAK,gBAAgB,EAAG,SAAAC,GACpBA,EAAUC,kBAAkB,OAAQ,CAC3DC,QAAS,OAEMC,YAAY,OAAO,OAAQ,CAACC,QAAQ,MAGvD,SAASC,EAAaC,GACpBT,EAAWU,KAAK,SAAAC,GACRC,IAAAA,EAAKD,EAAGE,YAAY,OAAQ,aAC5BC,EAAQF,EAAGG,YAAY,QAGtBH,OAFPI,QAAQC,IAAIR,GACZK,EAAMI,IAAIT,GACHG,EAAGO,WACTT,KAAK,WAAMU,OAAAA,MAAM,4BAGtB,SAASC,IACA,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BxB,EAAWU,KAAK,SAAAC,GAGPG,OAFIH,EAAGE,YAAY,OAAQ,YACjBE,YAAY,QAChBM,WACZX,KAAK,SAAAD,GACNc,EAAQd,KACPgB,MAAM,SAAAhB,GAAQe,OAAAA,EAAOf,OAI5B,SAASiB,EAAQC,GACR,OAAA,IAAIL,QAAQ,SAACC,EAAQC,GAC1BxB,EAAWU,KAAK,SAAAC,GAGPG,OAFIH,EAAGE,YAAY,OAAQ,YACjBE,YAAY,QAChBa,IAAID,KAChBjB,KAAK,SAAAD,GACNc,EAAQd,KACPgB,MAAMD,EAAOf,SAIpB,SAASoB,EAAWF,GACX,OAAA,IAAIL,QAAQ,SAACC,EAAQC,GAC1BxB,EAAWU,KAAK,SAAAC,GAGPG,OAFIH,EAAGE,YAAY,OAAQ,aACjBE,YAAY,QAChBe,OAAOH,KACnBjB,KAAK,WACNU,MAAM","file":"db.8ab4f24f.js","sourceRoot":"..\\src","sourcesContent":["const dbPromised = idb.open('football-hunt',1, upgradeDb => {\r\n  const teamsObjectStore = upgradeDb.createObjectStore('team', {\r\n    keyPath: 'id'\r\n  })\r\n  teamsObjectStore.createIndex('name','name', {unique: false})\r\n})\r\n\r\nfunction saveForLater(team) {\r\n  dbPromised.then(db => {\r\n    const tx = db.transaction('team', 'readwrite');\r\n    const store = tx.objectStore('team');\r\n    console.log(team);\r\n    store.put(team);\r\n    return tx.complete;\r\n  }).then(() => alert('Team Berhasil Disimpan'))\r\n}\r\n\r\nfunction getAll() {\r\n  return new Promise((resolve, reject) => {\r\n    dbPromised.then(db => {\r\n      const tx = db.transaction('team', 'readonly');\r\n      const store = tx.objectStore('team');\r\n      return store.getAll();\r\n    }).then(team => {\r\n      resolve(team);\r\n    }).catch(team => reject(team))\r\n  })\r\n}\r\n\r\nfunction getById(id) {\r\n  return new Promise((resolve,reject) => {\r\n    dbPromised.then(db => {\r\n      const tx = db.transaction('team', 'readonly');\r\n      const store = tx.objectStore('team');\r\n      return store.get(id);\r\n    }).then(team => {\r\n      resolve(team);\r\n    }).catch(reject(team))\r\n  })\r\n}\r\n\r\nfunction deleteTeam(id) {\r\n  return new Promise((resolve,reject) => {\r\n    dbPromised.then(db => {\r\n      const tx = db.transaction('team', 'readwrite');\r\n      const store = tx.objectStore('team');\r\n      return store.delete(id);\r\n    }).then(() => {\r\n      alert('team Deleted');\r\n    })\r\n  })\r\n}"]}